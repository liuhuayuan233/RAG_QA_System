#!/usr/bin/env python3
"""
快速扩展数据集脚本
生成更多高质量的示例数据用于演示RAG系统效果
"""

import os
import json
from pathlib import Path
import random

def create_ai_ml_dataset():
    """创建AI/ML领域的扩展数据集"""
    
    # 创建数据目录
    output_dir = Path("./documents_extended")
    output_dir.mkdir(exist_ok=True)
    
    # 扩展的AI/ML文档内容
    extended_docs = [
        {
            "filename": "自然语言处理技术详解.md",
            "content": """# 自然语言处理技术详解

## 概述

自然语言处理（NLP）是人工智能的重要分支，旨在让计算机理解、处理和生成人类语言。

## 核心技术

### 1. 文本预处理
- **分词**: 将文本分解为词语单元
- **词性标注**: 标识每个词的语法角色
- **命名实体识别**: 识别人名、地名、组织名等
- **依存句法分析**: 分析词语间的语法关系

### 2. 词向量表示
- **Word2Vec**: 通过神经网络学习词向量
- **GloVe**: 基于全局词频统计的词向量
- **FastText**: 考虑子词信息的词向量
- **BERT**: 基于Transformer的上下文词向量

### 3. 语言模型
- **N-gram模型**: 基于统计的语言模型
- **RNN语言模型**: 循环神经网络语言模型
- **Transformer**: 基于注意力机制的语言模型
- **GPT系列**: 生成式预训练语言模型

## 主要应用

### 1. 机器翻译
- **统计机器翻译**: 基于统计模型的翻译
- **神经机器翻译**: 基于神经网络的翻译
- **Transformer翻译**: 基于Transformer的翻译模型

### 2. 情感分析
- **词典方法**: 基于情感词典的分析
- **机器学习方法**: 使用分类算法进行情感分析
- **深度学习方法**: CNN、RNN、BERT等深度模型

### 3. 问答系统
- **检索式问答**: 从知识库中检索答案
- **生成式问答**: 生成自然语言答案
- **阅读理解**: 基于文本理解的问答

### 4. 对话系统
- **任务导向对话**: 完成特定任务的对话系统
- **开放域对话**: 自由聊天的对话系统
- **多轮对话**: 支持上下文的对话系统

## 技术挑战

### 1. 语言的歧义性
- **词汇歧义**: 同一个词有多种含义
- **句法歧义**: 同一个句子有多种解析
- **语义歧义**: 同一个表达有多种理解

### 2. 上下文理解
- **长距离依赖**: 词语间的长程关系
- **共指消解**: 指代关系的识别
- **隐含信息**: 文本中的隐含意义

### 3. 多语言处理
- **语言差异**: 不同语言的语法结构差异
- **跨语言迁移**: 模型的跨语言泛化
- **低资源语言**: 资源稀缺语言的处理

## 评估指标

### 1. 分类任务
- **准确率**: 正确分类的比例
- **精确率**: 预测为正例中真正为正例的比例
- **召回率**: 真正例中被正确预测的比例
- **F1分数**: 精确率和召回率的调和平均

### 2. 生成任务
- **BLEU**: 机器翻译评估指标
- **ROUGE**: 文本摘要评估指标
- **困惑度**: 语言模型的评估指标
- **人工评估**: 人类评估生成质量

## 发展趋势

### 1. 大规模预训练模型
- **BERT**: 双向编码器表示
- **GPT**: 生成式预训练模型
- **T5**: 文本到文本转换模型
- **多模态模型**: 结合文本和图像的模型

### 2. 少样本学习
- **零样本学习**: 无需训练数据的学习
- **少样本学习**: 少量样本的快速学习
- **元学习**: 学习如何学习的方法

### 3. 可解释性
- **注意力可视化**: 模型注意力的可视化
- **特征重要性**: 特征对预测的贡献
- **对抗样本**: 模型鲁棒性的测试

自然语言处理技术正在快速发展，未来将在更多领域发挥重要作用。
"""
        },
        {
            "filename": "计算机视觉技术全面解析.md",
            "content": """# 计算机视觉技术全面解析

## 概述

计算机视觉是人工智能的重要分支，致力于让计算机理解和解释视觉世界。

## 基础技术

### 1. 图像处理
- **图像增强**: 提高图像质量的技术
- **图像滤波**: 去除噪声和平滑图像
- **边缘检测**: 检测图像中的边缘信息
- **形态学操作**: 基于形状的图像处理

### 2. 特征提取
- **SIFT**: 尺度不变特征变换
- **SURF**: 加速稳健特征
- **ORB**: 快速特征检测和描述
- **HOG**: 方向梯度直方图

### 3. 传统机器学习方法
- **支持向量机**: 用于图像分类
- **随机森林**: 集成学习方法
- **AdaBoost**: 自适应增强算法
- **K-means**: 聚类算法

## 深度学习方法

### 1. 卷积神经网络
- **LeNet**: 早期的CNN架构
- **AlexNet**: 深度CNN的突破
- **VGG**: 深度网络的探索
- **ResNet**: 残差网络的创新

### 2. 目标检测
- **R-CNN**: 基于区域的CNN
- **Fast R-CNN**: 快速R-CNN
- **Faster R-CNN**: 更快的R-CNN
- **YOLO**: 实时目标检测

### 3. 图像分割
- **FCN**: 全卷积网络
- **U-Net**: U形网络结构
- **DeepLab**: 深度实验室系列
- **Mask R-CNN**: 实例分割

### 4. 生成模型
- **GAN**: 生成对抗网络
- **VAE**: 变分自编码器
- **StyleGAN**: 风格生成对抗网络
- **Diffusion Models**: 扩散模型

## 主要应用

### 1. 图像识别
- **人脸识别**: 身份验证和安全监控
- **物体识别**: 识别图像中的物体
- **场景识别**: 理解图像场景内容
- **细粒度识别**: 识别物体的细节类别

### 2. 医疗影像
- **医学图像分析**: X光、CT、MRI分析
- **病理检测**: 疾病的自动检测
- **手术辅助**: 手术过程的视觉辅助
- **药物发现**: 基于图像的药物研究

### 3. 自动驾驶
- **环境感知**: 周围环境的理解
- **障碍物检测**: 识别道路障碍
- **车道检测**: 识别车道线
- **交通标志识别**: 识别交通标志

### 4. 增强现实
- **目标跟踪**: 实时跟踪物体
- **姿态估计**: 估计人体姿态
- **三维重建**: 从二维图像重建三维场景
- **虚拟试衣**: 虚拟试穿体验

## 技术挑战

### 1. 数据质量
- **标注质量**: 数据标注的准确性
- **数据偏差**: 训练数据的偏差问题
- **数据隐私**: 图像数据的隐私保护
- **数据稀缺**: 某些领域的数据稀缺

### 2. 模型性能
- **计算复杂度**: 模型的计算需求
- **内存占用**: 模型的内存需求
- **实时性**: 实时处理的要求
- **准确性**: 模型的准确性要求

### 3. 泛化能力
- **域适应**: 不同域间的泛化
- **鲁棒性**: 对噪声和攻击的鲁棒性
- **小样本学习**: 少量样本的学习能力
- **零样本学习**: 无样本的学习能力

## 评估指标

### 1. 分类任务
- **Top-1准确率**: 最高预测正确的比例
- **Top-5准确率**: 前5预测中正确的比例
- **混淆矩阵**: 分类结果的详细分析
- **ROC曲线**: 受试者工作特征曲线

### 2. 检测任务
- **mAP**: 平均精度均值
- **IoU**: 交并比
- **精确率-召回率曲线**: PR曲线
- **检测速度**: 每秒处理帧数

### 3. 分割任务
- **像素准确率**: 像素级别的准确率
- **IoU**: 交并比
- **Dice系数**: 重叠度量
- **Hausdorff距离**: 边界距离度量

## 发展趋势

### 1. 多模态学习
- **视觉-语言**: 图像和文本的结合
- **视觉-音频**: 图像和声音的结合
- **跨模态检索**: 不同模态间的检索
- **多模态生成**: 生成多种模态的内容

### 2. 自监督学习
- **对比学习**: 通过对比学习表示
- **掩码学习**: 通过掩码重建学习
- **旋转预测**: 通过旋转预测学习
- **拼图解决**: 通过拼图任务学习

### 3. 神经架构搜索
- **自动设计**: 自动设计网络架构
- **效率优化**: 优化模型效率
- **硬件适配**: 适配特定硬件
- **任务定制**: 针对特定任务定制

计算机视觉技术正在推动人工智能的发展，未来将在更多领域发挥重要作用。
"""
        },
        {
            "filename": "强化学习算法与应用.md",
            "content": """# 强化学习算法与应用

## 概述

强化学习是机器学习的重要分支，通过与环境的交互学习最优策略。

## 基本概念

### 1. 核心要素
- **智能体 (Agent)**: 学习和决策的主体
- **环境 (Environment)**: 智能体所处的外部世界
- **状态 (State)**: 环境的当前情况
- **动作 (Action)**: 智能体可以采取的行为
- **奖励 (Reward)**: 环境给予的反馈信号

### 2. 马尔可夫决策过程
- **状态转移概率**: 从一个状态到另一个状态的概率
- **奖励函数**: 给定状态和动作的奖励
- **策略**: 从状态到动作的映射
- **价值函数**: 状态或状态-动作对的价值

### 3. 学习目标
- **最优策略**: 使累积奖励最大化的策略
- **价值函数**: 评估状态或动作的价值
- **探索与利用**: 平衡探索新动作和利用已知知识

## 主要算法

### 1. 基于价值的方法
- **Q-Learning**: 学习动作价值函数
- **SARSA**: 同策略时间差分学习
- **DQN**: 深度Q网络
- **Double DQN**: 双重深度Q网络

### 2. 基于策略的方法
- **Policy Gradient**: 策略梯度方法
- **REINFORCE**: 蒙特卡罗策略梯度
- **Actor-Critic**: 演员-评论家方法
- **PPO**: 近端策略优化

### 3. 基于模型的方法
- **Dynamic Programming**: 动态规划
- **Model-based RL**: 基于模型的强化学习
- **Dyna-Q**: 结合规划和学习
- **MCTS**: 蒙特卡罗树搜索

### 4. 深度强化学习
- **A3C**: 异步优势演员-评论家
- **DDPG**: 深度确定性策略梯度
- **TD3**: 双延迟深度确定性策略梯度
- **SAC**: 软演员-评论家

## 应用领域

### 1. 游戏AI
- **国际象棋**: Deep Blue战胜人类冠军
- **围棋**: AlphaGo战胜世界冠军
- **电子游戏**: 在各种游戏中超越人类
- **多智能体游戏**: 多个智能体的协作竞争

### 2. 机器人控制
- **机械臂控制**: 精确的机械臂操作
- **移动机器人**: 导航和路径规划
- **无人机**: 自主飞行和任务执行
- **人形机器人**: 复杂的人形机器人控制

### 3. 自动驾驶
- **路径规划**: 最优路径的规划
- **决策制定**: 驾驶决策的制定
- **行为预测**: 其他车辆行为的预测
- **交通优化**: 交通流量的优化

### 4. 推荐系统
- **个性化推荐**: 基于用户行为的推荐
- **实时推荐**: 实时更新的推荐系统
- **多目标优化**: 平衡多个目标的推荐
- **冷启动问题**: 新用户和新物品的推荐

### 5. 金融交易
- **算法交易**: 自动化交易策略
- **风险管理**: 投资风险的管理
- **投资组合**: 投资组合的优化
- **市场预测**: 金融市场的预测

## 技术挑战

### 1. 样本效率
- **数据需求**: 需要大量的交互数据
- **学习速度**: 学习过程通常较慢
- **稀疏奖励**: 奖励信号稀疏的问题
- **延迟奖励**: 奖励延迟的问题

### 2. 探索问题
- **探索策略**: 如何有效地探索环境
- **探索与利用**: 平衡探索和利用
- **好奇心驱动**: 内在动机的探索
- **安全探索**: 安全地探索环境

### 3. 泛化能力
- **环境变化**: 适应环境的变化
- **任务迁移**: 从一个任务迁移到另一个任务
- **分布外泛化**: 在新环境中的泛化
- **元学习**: 学习如何快速学习

### 4. 稳定性
- **训练不稳定**: 训练过程的不稳定
- **超参数敏感**: 对超参数的敏感性
- **收敛问题**: 算法的收敛问题
- **性能波动**: 性能的波动问题

## 评估指标

### 1. 性能指标
- **累积奖励**: 总的奖励累积
- **成功率**: 任务完成的成功率
- **平均回报**: 平均每轮的回报
- **学习曲线**: 学习过程的曲线

### 2. 效率指标
- **样本效率**: 达到目标性能所需的样本数
- **计算效率**: 计算资源的使用效率
- **内存效率**: 内存使用的效率
- **时间效率**: 时间使用的效率

### 3. 鲁棒性指标
- **噪声鲁棒性**: 对噪声的鲁棒性
- **对抗鲁棒性**: 对对抗攻击的鲁棒性
- **分布鲁棒性**: 对分布变化的鲁棒性
- **超参数鲁棒性**: 对超参数的鲁棒性

## 发展趋势

### 1. 多智能体强化学习
- **合作学习**: 多个智能体的合作
- **竞争学习**: 多个智能体的竞争
- **通信学习**: 智能体间的通信
- **组织学习**: 智能体的组织结构

### 2. 层次化强化学习
- **分层决策**: 分层的决策制定
- **子目标学习**: 子目标的学习
- **技能学习**: 可复用技能的学习
- **抽象学习**: 抽象层次的学习

### 3. 离线强化学习
- **批量学习**: 从静态数据集学习
- **保守学习**: 保守的策略学习
- **分布修正**: 分布不匹配的修正
- **数据增强**: 离线数据的增强

### 4. 可解释强化学习
- **策略解释**: 策略的可解释性
- **决策解释**: 决策过程的解释
- **注意力机制**: 注意力的可视化
- **因果推理**: 因果关系的推理

强化学习正在成为人工智能的重要推动力，未来将在更多复杂任务中发挥作用。
"""
        },
        {
            "filename": "数据科学与机器学习实践.md",
            "content": """# 数据科学与机器学习实践

## 概述

数据科学是一个跨学科领域，结合了统计学、计算机科学和领域知识，从数据中提取洞察。

## 数据科学流程

### 1. 问题定义
- **业务理解**: 理解业务问题和需求
- **数据理解**: 了解可用数据的特征
- **成功指标**: 定义项目成功的标准
- **项目规划**: 制定项目执行计划

### 2. 数据收集
- **数据源识别**: 识别相关的数据源
- **数据获取**: 获取所需的数据
- **数据集成**: 整合多个数据源
- **数据存储**: 建立数据存储系统

### 3. 数据探索
- **描述性统计**: 计算基本统计量
- **数据可视化**: 创建图表和图形
- **模式发现**: 发现数据中的模式
- **异常检测**: 识别数据中的异常

### 4. 数据清洗
- **缺失值处理**: 处理缺失的数据
- **异常值处理**: 处理异常的数据点
- **重复值处理**: 去除重复的记录
- **数据类型转换**: 转换数据类型

### 5. 特征工程
- **特征选择**: 选择最相关的特征
- **特征构造**: 创建新的特征
- **特征变换**: 变换现有特征
- **特征缩放**: 标准化和归一化

## 机器学习方法

### 1. 监督学习
- **分类算法**: 预测类别标签
  - 逻辑回归
  - 决策树
  - 随机森林
  - 支持向量机
  - 神经网络
  
- **回归算法**: 预测连续值
  - 线性回归
  - 多项式回归
  - 岭回归
  - Lasso回归
  - 弹性网络

### 2. 无监督学习
- **聚类算法**: 发现数据中的群组
  - K-means
  - 层次聚类
  - DBSCAN
  - 高斯混合模型
  
- **降维算法**: 减少特征维度
  - 主成分分析 (PCA)
  - 线性判别分析 (LDA)
  - t-SNE
  - UMAP

### 3. 强化学习
- **基于价值的方法**: Q-Learning、DQN
- **基于策略的方法**: Policy Gradient、PPO
- **演员-评论家方法**: A3C、DDPG
- **基于模型的方法**: Model-based RL

### 4. 深度学习
- **前馈神经网络**: 基本的神经网络结构
- **卷积神经网络**: 用于图像处理
- **循环神经网络**: 用于序列数据
- **变换器**: 用于自然语言处理

## 模型评估与选择

### 1. 评估指标
- **分类指标**:
  - 准确率 (Accuracy)
  - 精确率 (Precision)
  - 召回率 (Recall)
  - F1分数
  - AUC-ROC
  
- **回归指标**:
  - 均方误差 (MSE)
  - 平均绝对误差 (MAE)
  - 决定系数 (R²)
  - 平均绝对百分比误差 (MAPE)

### 2. 交叉验证
- **K折交叉验证**: 将数据分成K个折叠
- **留一法**: 每次只留一个样本作为测试集
- **时间序列交叉验证**: 针对时间序列数据
- **分层交叉验证**: 保持类别分布的交叉验证

### 3. 超参数调优
- **网格搜索**: 遍历所有参数组合
- **随机搜索**: 随机采样参数组合
- **贝叶斯优化**: 基于贝叶斯推理的优化
- **遗传算法**: 基于进化的优化方法

### 4. 模型选择
- **偏差-方差权衡**: 平衡模型的偏差和方差
- **过拟合与欠拟合**: 避免过拟合和欠拟合
- **模型复杂度**: 选择适当的模型复杂度
- **集成方法**: 结合多个模型的预测

## 实际应用案例

### 1. 客户细分
- **数据收集**: 收集客户行为数据
- **特征工程**: 构造客户特征
- **聚类分析**: 使用K-means进行客户细分
- **业务应用**: 制定针对性的营销策略

### 2. 预测性维护
- **数据收集**: 收集设备传感器数据
- **特征提取**: 提取设备健康特征
- **异常检测**: 检测设备异常状态
- **故障预测**: 预测设备故障时间

### 3. 推荐系统
- **协同过滤**: 基于用户和物品的相似性
- **内容推荐**: 基于物品内容的推荐
- **深度学习**: 使用神经网络进行推荐
- **评估优化**: 评估推荐效果并优化

### 4. 欺诈检测
- **特征工程**: 构造欺诈检测特征
- **异常检测**: 检测异常交易
- **监督学习**: 使用标记数据训练模型
- **实时检测**: 实时检测欺诈行为

## 工具和技术

### 1. 编程语言
- **Python**: 数据科学的主要语言
- **R**: 统计分析的专用语言
- **SQL**: 数据库查询语言
- **Scala**: 大数据处理语言

### 2. 数据处理库
- **Pandas**: Python数据处理库
- **NumPy**: 数值计算库
- **Dask**: 并行计算库
- **PySpark**: 大数据处理框架

### 3. 机器学习库
- **Scikit-learn**: 通用机器学习库
- **TensorFlow**: 深度学习框架
- **PyTorch**: 深度学习框架
- **XGBoost**: 梯度提升框架

### 4. 可视化工具
- **Matplotlib**: 基础绘图库
- **Seaborn**: 统计可视化库
- **Plotly**: 交互式可视化库
- **Tableau**: 商业智能工具

### 5. 云平台
- **AWS**: 亚马逊云服务
- **Azure**: 微软云服务
- **GCP**: 谷歌云平台
- **阿里云**: 阿里巴巴云服务

## 最佳实践

### 1. 数据质量
- **数据验证**: 验证数据的准确性
- **数据监控**: 监控数据质量变化
- **数据版本控制**: 管理数据版本
- **数据文档**: 记录数据来源和处理过程

### 2. 模型开发
- **实验跟踪**: 记录实验过程和结果
- **代码版本控制**: 使用Git管理代码
- **模型版本控制**: 管理模型版本
- **自动化测试**: 自动化测试流程

### 3. 部署与监控
- **模型部署**: 将模型部署到生产环境
- **性能监控**: 监控模型性能
- **数据漂移**: 检测数据分布变化
- **模型更新**: 定期更新模型

### 4. 团队协作
- **跨职能团队**: 建立跨职能团队
- **知识分享**: 分享知识和经验
- **标准化流程**: 建立标准化流程
- **持续学习**: 持续学习新技术

## 未来趋势

### 1. 自动化机器学习
- **AutoML**: 自动化机器学习流程
- **神经架构搜索**: 自动设计神经网络
- **特征自动化**: 自动化特征工程
- **超参数自动化**: 自动化超参数调优

### 2. 可解释AI
- **模型解释**: 解释模型决策过程
- **特征重要性**: 分析特征重要性
- **反事实解释**: 反事实推理
- **公平性**: 确保模型公平性

### 3. 边缘计算
- **模型压缩**: 压缩模型以适应边缘设备
- **联邦学习**: 分布式机器学习
- **实时推理**: 边缘设备上的实时推理
- **隐私保护**: 保护用户隐私

### 4. 量子机器学习
- **量子算法**: 量子机器学习算法
- **量子优势**: 量子计算的优势
- **混合算法**: 经典-量子混合算法
- **应用探索**: 探索量子机器学习应用

数据科学与机器学习正在改变各个行业，未来将有更多创新应用。
"""
        }
    ]
    
    # 写入文件
    for doc in extended_docs:
        file_path = output_dir / doc["filename"]
        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(doc["content"])
        print(f"创建文件: {file_path}")
    
    print(f"\n✅ 成功创建 {len(extended_docs)} 个扩展文档")
    print(f"总计约 {sum(len(doc['content']) for doc in extended_docs):,} 个字符")
    print(f"文档保存在: {output_dir}")
    
    return len(extended_docs)

def create_tech_dataset():
    """创建技术相关的数据集"""
    
    output_dir = Path("./documents_tech")
    output_dir.mkdir(exist_ok=True)
    
    tech_docs = [
        {
            "filename": "云计算技术架构.md",
            "content": """# 云计算技术架构

## 概述
云计算是一种通过网络提供可扩展计算资源的服务模式。

## 服务模型
### IaaS（基础设施即服务）
- 虚拟机
- 存储
- 网络
- 负载均衡

### PaaS（平台即服务）
- 开发平台
- 数据库服务
- 中间件
- 运行时环境

### SaaS（软件即服务）
- 应用程序
- 办公软件
- 客户关系管理
- 企业资源规划

## 部署模型
### 公有云
- AWS
- Azure
- Google Cloud
- 阿里云

### 私有云
- VMware
- OpenStack
- 华为云
- 青云

### 混合云
- 公有云和私有云的结合
- 数据和应用的灵活部署
- 成本和安全的平衡

## 关键技术
### 虚拟化
- 计算虚拟化
- 存储虚拟化
- 网络虚拟化
- 应用虚拟化

### 容器化
- Docker
- Kubernetes
- 容器编排
- 微服务架构

### 自动化
- 基础设施即代码
- 自动化部署
- 持续集成/持续部署
- 监控和日志
"""
        },
        {
            "filename": "区块链技术原理.md",
            "content": """# 区块链技术原理

## 基本概念
区块链是一种分布式账本技术，通过密码学保证数据不可篡改。

## 核心组件
### 区块
- 区块头
- 交易数据
- 哈希值
- 时间戳

### 链式结构
- 前一个区块的哈希
- 链式连接
- 不可篡改性
- 时间顺序

### 共识机制
- 工作量证明（PoW）
- 权益证明（PoS）
- 委托权益证明（DPoS）
- 实用拜占庭容错（PBFT）

## 应用场景
### 数字货币
- 比特币
- 以太坊
- 央行数字货币
- 稳定币

### 供应链管理
- 商品溯源
- 物流跟踪
- 质量认证
- 防伪验证

### 数字身份
- 身份认证
- 学历认证
- 资质证明
- 数字签名

### 智能合约
- 自动执行
- 条件触发
- 去中心化应用
- 金融衍生品
"""
        },
        {
            "filename": "物联网技术架构.md",
            "content": """# 物联网技术架构

## 概述
物联网（IoT）是将各种设备连接到互联网，实现智能化管理的技术。

## 架构层次
### 感知层
- 传感器
- 执行器
- RFID标签
- 二维码

### 网络层
- 无线通信
- 有线通信
- 网络协议
- 数据传输

### 处理层
- 数据处理
- 云计算
- 边缘计算
- 数据分析

### 应用层
- 用户界面
- 应用程序
- 业务逻辑
- 服务接口

## 通信技术
### 短距离通信
- WiFi
- 蓝牙
- ZigBee
- NFC

### 长距离通信
- 3G/4G/5G
- LoRa
- NB-IoT
- 卫星通信

## 应用领域
### 智能家居
- 智能照明
- 智能安防
- 智能家电
- 环境监控

### 智慧城市
- 智能交通
- 智能电网
- 智能水务
- 环境监测

### 工业物联网
- 设备监控
- 预测维护
- 质量控制
- 供应链优化

### 智慧医疗
- 远程监护
- 智能诊断
- 药物管理
- 健康监测
"""
        }
    ]
    
    # 写入文件
    for doc in tech_docs:
        file_path = output_dir / doc["filename"]
        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(doc["content"])
        print(f"创建文件: {file_path}")
    
    print(f"\n✅ 成功创建 {len(tech_docs)} 个技术文档")
    print(f"文档保存在: {output_dir}")
    
    return len(tech_docs)

def main():
    """主函数"""
    print("🚀 快速扩展数据集工具")
    print("=" * 50)
    
    total_docs = 0
    
    print("\n1. 创建AI/ML扩展数据集...")
    total_docs += create_ai_ml_dataset()
    
    print("\n2. 创建技术文档数据集...")
    total_docs += create_tech_dataset()
    
    print("\n" + "=" * 50)
    print(f"🎉 数据集扩展完成！")
    print(f"总计创建 {total_docs} 个高质量文档")
    print(f"现在您可以使用以下命令构建向量库：")
    print(f"  python scripts/build_vector_store.py --documents ./documents_extended")
    print(f"  python scripts/build_vector_store.py --documents ./documents_tech")
    print(f"\n📊 数据集质量分析：")
    print(f"  python scripts/analyze_dataset.py ./documents_extended")
    print(f"  python scripts/analyze_dataset.py ./documents_tech")

if __name__ == "__main__":
    main()
